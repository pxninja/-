function $(t,e){if(!t)return this;if("string"==typeof t){let s=document.querySelectorAll(t);switch(s.length){case 0:t=null;break;case 1:t=s[0];break;default:t=s}}return e?t.ƒ(e):t}function ƒ_getNodeList(t){return t instanceof NodeList?t:[t]}function ƒ_eventListener(t,e,s,r){switch(elems=ƒ_getNodeList(t),e){case"add":elems.forEach(t=>t.addEventListener(s,r));break;case"rem":elems.forEach(t=>t.removeEventListener(s,r))}}Object.prototype.ƒ=function(t){let e=parseInt(t);if(!isNaN(e)&&"number"==typeof e)switch(e<0){case!0:return this[this.length+e];case!1:return this[e]}if(!this||!t||"string"==typeof e)return this;t=t.trim();let s={0:"\xb1+-?",1:t[0],2:t[t.length-1],3:t[t.length-2]};if(s[0].includes(s[1]))return r.bind(this)(s[1],1,t.length);if(s[0].includes(s[2])&&" "===s[3])return r.bind(this)(s[2],0,-1);return n.bind(this)(i(t),"\xb1");function r(e,s,r){let o=i(t.slice(s,r));return"?"===e?c.bind(this)(o):n.bind(this)(o,e)}function i(t){let e=/#([^\s#."']+)|\.([^\s#."']+)|([\w-]+)\s*=\s*["']([^"']+)["']|(\b[\w-]+\b)/g,s,r={};for(;null!==(s=e.exec(t));)s[1]?r.id=s[1]:s[2]?r.class=[...r.class||[],s[2]]:s[3]&&s[4]?"class"===s[3]?r.class=s[4].split(/\s+/):r[s[3]]=s[4]:s[5]&&(r[s[5]]="");return r}function n(t,e){return(elements=this instanceof NodeList?this:[this]).forEach(s=>(function t(e,s,r){for(let i in s)if(s.hasOwnProperty(i)){let n=s[i];if("class"===i)switch(r){case"+":n.forEach(t=>e.classList.add(t));break;case"-":n.forEach(t=>e.classList.remove(t));break;case"\xb1":n.forEach(t=>e.classList.toggle(t))}else switch(r){case"+":e.setAttribute(i,n);break;case"-":e.removeAttribute(i,n);break;case"\xb1":e.getAttribute(i)===n?e.removeAttribute(i):e.setAttribute(i,n)}}})(s,t,e)),this}function c(t){let e=[];return(elements=this instanceof NodeList?this:[this]).forEach(s=>e.push(function t(e,s){let r={};for(let i in s)if(s.hasOwnProperty(i)){let n=s[i];"class"===i&&Array.isArray(n)?(n.forEach(t=>r.class=[...r.class||[],e.classList.contains(t)]),r.class=r.class.every(t=>!0===t)):r[i]=e.getAttribute(i)??void 0}if(Object.keys(r).length>1){for(let c in r)if(r.hasOwnProperty(c)&&!r[c]){r=!1;break}!1!==r&&(r=!0)}else r=1==Object.keys(r).length&&r[Object.keys(r)[0]];return r}(s,t))),e.length>1?e:e[0]}},Object.prototype.on=function(t,e){return ƒ_eventListener(this,"add",t,e),this},Object.prototype.off=function(t,e){return ƒ_eventListener(this,"rem",t,e),this},Object.prototype.listeners=function(){let t={},e=ƒ_getNodeList(this);return e.forEach(e=>{let s=getEventListeners(e);for(let r in s)s.hasOwnProperty(r)&&(t[r]||(t[r]=[]),t[r].push([e,s[r][0]]))}),Object.keys(t).length>0&&t},Object.prototype.html=function(t,e){if("string"!=typeof t)return!!this.innerHTML&&this.innerHTML;if(e)return this.innerHTML=this.innerHTML.replace(t,e);switch(t[0]){case"+":return this.innerHTML+=t.trim().slice(1);case"?":return this.innerHTML;default:return this.innerHTML=t.trim()}};
